{{ define "main" }}

<section class="hero-section">
  <div class="hero-logo">
    <img src="/images/logo/logo_hero.png" alt="Methodical Cloud Logo"
      style="max-width: 240px; height: auto; display: block; margin: 0 auto 2rem;" />
  </div>
  <div class="hero-content">
    <h1 class="hero-title">Welcome to Methodical Cloud</h1>
    <p class="hero-subtitle">Clarity in automation, systems that scale, and technical storytelling that doesn’t suck.
    </p>
    <!-- CTA button: Add the following CSS to your static/css/custom.css file (not in this HTML file):
    <style>
      .cta-button {
        text-align: center;
        margin-top: 2rem;
      }
      .button.primary {
        background-color: #18bfef;
        color: #1e252d;
        padding: 0.75rem 1.5rem;
        font-weight: bold;
        border-radius: 5px;
        text-decoration: none;
        transition: background 0.3s ease;
      }
      .button.primary:hover {
        background-color: #0fa4cd;
        color: #fff;
      }
    </style>
    -->
    <div class="cta-button">
      <a href="/blog" class="button primary">Browse Diagrams</a>
    </div>
    <div class="homepage-preview-section">
      <h2>What's Inside</h2>
      <div class="homepage-preview-grid">
        <div class="homepage-preview-card">
          <h3>Popular Diagrams</h3>
          <p>Explore visual representations of complex systems explained simply.</p>
          <a href="/blog" class="button">Browse Diagrams</a>
        </div>
        <div class="homepage-preview-card">
          <h3>Podcast Episodes</h3>
          <p>Listen to 15-minute episodes built around clarity and system design.</p>
          <a href="/podcast" class="button">Listen Now</a>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="explore-section">
  <div class="container">
    <h2>Explore Methodical Cloud</h2>
    <div class="featured-card-grid">
      {{ range where .Site.Pages "Section" "in" (slice "about" "blog" "podcast") }}
      <div class="featured-card">
        <h3>{{ .Title }}</h3>
        <p>{{ .Params.description | default .Summary }}</p>
        <a href="{{ .RelPermalink }}" class="button">Explore</a>
      </div>
      {{ end }}
    </div>
  </div>
</section>

<section class="featured-post">
  <h2>Featured Post</h2>
  <div class="blog-card-grid">
    {{ with first 1 (where .Site.RegularPages "Params.featured" true) }}
    {{ range . }}
    <article class="blog-card">
      <header>
        <span class="date">{{ .Date.Format "January 2, 2006" }}</span>
        <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
      </header>
      <p>{{ .Params.description | default .Summary }}</p>
      <a href="{{ .Permalink }}" class="button">Read More</a>
    </article>
    {{ end }}
    {{ else }}
    {{ range first 1 (where .Site.RegularPages "Section" "blog") }}
    <article class="blog-card">
      <header>
        <span class="date">{{ .Date.Format "January 2, 2006" }}</span>
        <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
      </header>
      <p>{{ .Params.description | default .Summary }}</p>
      <a href="{{ .Permalink }}" class="button">Read More</a>
    </article>
    {{ end }}
    {{ end }}
  </div>
</section>

<section class="promo-podcast">
  <div class="box">
    <h2>Diagram the Damn Thing</h2>
    <p>The Methodical Cloud podcast is coming soon. Each episode will revolve around one diagram—15 minutes or less, no
      fluff, just clear thinking to help you build better systems.</p>
    <ul class="actions">
      <li><a href="/podcast/" class="button primary">Learn More</a></li>
    </ul>
  </div>
</section>

<section class="recent-posts">
  <h2>Recent Posts</h2>
  <div class="posts">
    {{ range first 4 (after 1 (where .Site.RegularPages "Section" "blog")) }}
    <article>
      <header>
        <span class="date">{{ .Date.Format "January 2, 2006" }}</span>
        <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
      </header>
      <p>{{ .Params.description | default .Summary }}</p>
      <ul class="actions">
        <li><a href="{{ .Permalink }}" class="button">Read More</a></li>
      </ul>
    </article>
    {{ end }}
  </div>
  <ul class="actions">
    <li><a href="/blog/" class="button">View All Posts</a></li>
  </ul>
</section>
{{ end }}